<!DOCTYPE html>
<html lang="en">
  <head>
    <title>txt</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
  </head>
  <style>
    .fill {
    min-height: 77vh;
    height: 100%;
    }
  </style>
  <body class="p-4 mx-auto">
    <h1 class="display-2">
      Text to Text
      <small class="display-4 text-muted">Where you conver text to text</small>
    </h1>
      <div class="pb-2 row">
        <div class="col-md-3"><input class="form-control" type="text" id="fileName" placeholder="Enter file name"/></div>
        <div class="col-xs-3"><button onclick="downloadFile()" class="btn btn-outline-primary">Download</button></div>
        <div class="pl-3 col-xs-3"><button onclick="clearFile()" class="float-right btn btn-outline-primary">Clear</button></div>
        <div class="pl-3 col-xs-3"><input class="form-control form-control-md" type="file" id="file" onchange="readFile()"/></div>
      </div>
      <textarea class="col fill" form-control" type="text" id="textHolder" placeholder="Type any text"></textarea>


    <script>
      function downloadFile() {
        var text = document.getElementById("textHolder").value;
        var fileName = document.getElementById("fileName").value;
        var file = new Blob([text], { type: "text/plain" });
        var fileURL = URL.createObjectURL(file);
        var a = document.createElement("a");
        a.href = fileURL;
        a.download = fileName;
        a.click();
      }

      function clearFile() {
        document.getElementById("textHolder").value = "";
      }

      // Reads the file and puts it in the text area
      function readFile() {
        var file = document.getElementById("file").files[0];
        var reader = new FileReader();
        reader.readAsText(file);
        reader.onload = function(e) {
          document.getElementById("textHolder").value = e.target.result;
        };
        reader.onerror = function(e) {
          console.log("Error: ", e);
        };
      }
    </script>
  </body>
</html>
