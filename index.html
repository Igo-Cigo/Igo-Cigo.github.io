<!DOCTYPE html>
<html lang="en">
  <head>
    <title>txt</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <link rel="icon" href="ico.png">
  </head>
  <style>
    .fill {
    min-height: 77vh;
    height: 100%;
    }
    
    #textHolder {
      font-size: 18px;
      padding-top: 10px;
    }
    body {
      background: #ECE9E6;  /* fallback for old browsers */
      background: -webkit-linear-gradient(to right, #FFFFFF, #ECE9E6);  /* Chrome 10-25, Safari 5.1-6 */
      background: linear-gradient(to right, #FFFFFF, #ECE9E6); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
    }

  </style>
  <body class="p-4 mx-auto">
    <h1 class="display-2">
      Text to Text
      <small class="display-4 text-muted">Where you convert text to text</small>
    </h1>
      <div class="pb-2 row">
        <div class="col-md-3"><input class="form-control" type="text" id="fileName" placeholder="Enter file name"/></div>
        <div class="col-xs-3"><button onclick="downloadFile()" class="btn btn-outline-primary">Download</button></div>
        <div class="pl-3 col-xs-3"><button onclick="clearFile()" class="btn btn-outline-primary">Clear</button></div>
        <div class="pl-3 col-xs-3"><input type="file" id="file" onchange="readFile()"/></div></div></div></div>
      </div>
      <textarea class="col fill" form-control" type="text" id="textHolder" placeholder="Type any text"></textarea>


    <script>
      function downloadFile() {
        var text = document.getElementById("textHolder").value;
        var fileName = document.getElementById("fileName").value;
        var file = new Blob([text], { type: "text/plain" });
        var fileURL = URL.createObjectURL(file);
        var a = document.createElement("a");
        a.href = fileURL;
        a.download = fileName;
        a.click();
      }

      function clearFile() {
        confirm = window.prompt("are you sure? yes/no")
        if (confirm == "yes") {
          document.getElementById("textHolder").value = "";
        } 
      }

      function readFile() {
        var file = document.getElementById("file").files[0];
        var reader = new FileReader();
        reader.readAsText(file);
        reader.onload = function(e) {
          document.getElementById("textHolder").value = e.target.result;
        };
        reader.onerror = function(e) {
          console.log("Error: ", e);
        };
      }
    </script>
  </body>
</html>
